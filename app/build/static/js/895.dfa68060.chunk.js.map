{"version":3,"file":"static/js/895.dfa68060.chunk.js","mappings":"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","sources":["pages/mypage/components/Spec/InputImg.tsx","pages/mypage/components/Spec/Edit.tsx","pages/mypage/components/Spec/style.ts"],"sourcesContent":["/** @format */\n\nimport { css, cx } from '@emotion/css';\nimport { useState, useEffect } from 'react';\nimport { color } from '../../../../styles';\nimport { Img } from '../../../../components';\nimport Style from './style';\nimport { add_images } from '../../../../redux/spec/reducer';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { RootState } from '../../../../redux/root';\ninterface Props {\n  [key: string]: any;\n}\n\ninterface IMAGE {\n  img: string;\n  checked: boolean;\n  File: FormData | any;\n}\n\nexport default function InputImg({ imgs, inline }: Props) {\n  const clone =\n    imgs &&\n    imgs.map((img: any) => ({\n      img: img,\n      checked: false,\n    }));\n\n  const [alarm, setAlarm] = useState(true);\n  const [myImage, setMyImage] = useState<IMAGE[]>(clone || []);\n  const addedImages = useSelector((state: RootState) => state.spec.addImages);\n\n  const addImage = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const files = e.currentTarget.files || [];\n    if (inline && files.length + myImage.length > 5) {\n      alert('사진은 최대 5개만 업로드 할 수 있습니다.');\n    } else if (!inline && files.length + myImage.length > 10) {\n      alert('사진은 최대 10개만 업로드 할 수 있습니다.');\n    } else {\n      const urls = [...myImage];\n      for (let count = 0; count < files.length; count++) {\n        const imageURL = URL.createObjectURL(files[count]);\n        addedImages.append('image', files[count]);\n        files &&\n          urls.push({ img: imageURL, checked: false, File: files[count] });\n      }\n      setMyImage(urls);\n\n      dispatch(add_images(addedImages));\n    }\n  };\n\n  useEffect(() => {\n    setTimeout(() => {\n      setAlarm(false);\n    }, 5000);\n  }, []);\n\n  const style = Style({ inline: inline });\n\n  const sequence = css`\n    width: ${inline ? `15px` : `20px`};\n    height: ${inline ? `15px` : `20px`};\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    background-color: white;\n    border: 1px solid ${color.main};\n    color: ${color.main};\n    border-radius: 50%;\n    position: absolute;\n    bottom: ${inline ? `${56 / 2 - 15 / 2}px` : `8px`};\n    right: ${inline ? `${56 / 2 - 15 / 2}px` : `8px`};\n  `;\n\n  const selected = css`\n    background-color: ${color.main};\n    color: white;\n  `;\n  const dispatch = useDispatch();\n\n  const orderingImg = (e: React.MouseEvent<HTMLButtonElement>) => {\n    e.preventDefault();\n\n    e.stopPropagation();\n    e.stopPropagation();\n    const idx = Number(e.currentTarget.name);\n    const target = myImage[idx];\n    if (!target.checked) {\n      target.checked = !target.checked;\n      const newClone = myImage.filter(\n        (each: any, index: number) => index !== idx,\n      );\n\n      const section = myImage.reduce((acc: any, cur: any) => {\n        if (cur.checked) {\n          return ++acc;\n        } else {\n          return acc;\n        }\n      }, 0);\n      newClone.splice(section - 1, 0, target);\n\n      setMyImage(newClone);\n      const formData = new FormData();\n      for (var i = 0; i < myImage.length; i++) {\n        formData.append('image', newClone[i].File);\n      }\n      dispatch(add_images(formData));\n    } else {\n      target.checked = !target.checked;\n      const newClone = myImage.filter((each: any, index: any) => index !== idx);\n\n      const section = myImage.reduce((acc: any, cur: any) => {\n        if (!cur.checked) {\n          return ++acc;\n        } else {\n          return acc;\n        }\n      }, 0);\n      newClone.splice(newClone.length - (section - 1), 0, target);\n      setMyImage(newClone);\n      const formData = new FormData();\n      for (let i = 0; i < myImage.length; i++) {\n        formData.append('image', newClone[i].File);\n      }\n      dispatch(add_images(formData));\n    }\n  };\n\n  const deleteImg = (e: React.MouseEvent<HTMLButtonElement>) => {\n    e.preventDefault();\n    e.stopPropagation();\n    const index = Number(e.currentTarget.id);\n    const newImage = [...myImage];\n    newImage.splice(index, 1);\n    setMyImage(newImage);\n    const targetName = e.currentTarget.name;\n    // 삭제버튼을 누른 File.name\n    const imagesNumber = addedImages.entries();\n    const formDataLenth = Array.from(addedImages.keys()).length;\n    const newFormData = new FormData();\n    // imagesNumber.next().value[1].name\n    // formData 내부의 파일 명\n    for (let i = 0; i < formDataLenth; i++) {\n      const target = imagesNumber.next().value[1];\n      console.log(imagesNumber);\n      if (targetName !== target.name) {\n        newFormData.append('image', target);\n      }\n    }\n    dispatch(add_images(newFormData));\n  };\n\n  const request = (e: React.FormEvent<HTMLFormElement>) => {\n    e.preventDefault();\n    const formData = new FormData();\n\n    formData.append('title', 'newTitle');\n    formData.append('description', 'newDescript');\n    for (var i = 0; i < myImage.length; i++) {\n      formData.append('image', myImage[i].File);\n    }\n  };\n\n  const images =\n    myImage &&\n    myImage.map((each: any, index: number) => {\n      const order = each.checked ? selected : '';\n      return (\n        <button\n          key={index}\n          className={'item-box'}\n          name={`${index}`}\n          onClick={orderingImg}\n        >\n          <Img src={each.img} />\n          <div className={cx(sequence, order)}>{index + 1}</div>\n          <button\n            name={each.File.name}\n            onClick={deleteImg}\n            id={`${index}`}\n            className={'delete'}\n          />\n        </button>\n      );\n    });\n  const maxNum = 10,\n    full = myImage.length < maxNum;\n  const countStyle = css`\n    color: ${color.dark1};\n    position: absolute;\n    bottom: 16px;\n    right: 16px;\n  `;\n  const maxNumberStyle = css`\n    color: ${full ? color.dark1 : color.main};\n  `;\n  return (\n    <>\n      <div className={cx(style)}>\n        {alarm && (\n          <div className=\"alarm\">\n            {'사진을 클릭하여 순서설정 및 삭제를 할 수 있습니다'}\n          </div>\n        )}\n        {!inline && (\n          <div className={cx(countStyle)}>\n            <span className={cx(maxNumberStyle)}>{`${myImage.length}`}</span>\n            {` / ${maxNum}`}\n          </div>\n        )}\n        <div className={'wrapper'}>\n          <div className={'container'}>\n            {images}\n            <>\n              {myImage.length < 10 && (\n                <form onSubmit={request}>\n                  <input\n                    id=\"input-file\"\n                    type=\"file\"\n                    onChange={addImage}\n                    multiple\n                    accept=\".jpg,.jpeg,.png\"\n                  />\n                  <label htmlFor=\"input-file\">\n                    <div className={'item-box add'}>\n                      <div\n                        className={cx(css`\n                          width: 24px;\n                          height: 24px;\n                          background: url('/img/add-dark3.png') no-repeat\n                            center/contain;\n                        `)}\n                      />\n                    </div>\n                  </label>\n                </form>\n              )}\n            </>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n}\n","/** @format */\n\nimport { useEffect, useState } from 'react';\nimport { css, cx } from '@emotion/css';\nimport { color, radius, font } from '../../../../styles';\nimport { Box, FocusBar, BasicModal, Btn } from '../../../../components';\nimport InputImg from './InputImg';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { RootState } from '../../../../redux/root';\nimport { spec_create } from '../../../../redux/specModal/reducer';\nimport { ENDPOINT } from '../../../../utils/ENDPOINT';\nimport setInterceptors from '../../../../apis/common/setInterceptors';\nimport { customAxios } from '../../../../apis/instance';\nimport { Init_Form } from '../../../../redux/spec/reducer';\n\nexport default function Edit() {\n  const dispatch = useDispatch();\n  const isOpen = useSelector(\n    (state: RootState) => state.specModal.openSpecCreate,\n  );\n  const text: { [key: string]: any } = {\n    edit: '스펙 수정하기',\n    register: '스펙 등록하기',\n    complete: '완료',\n    maxNum: 300,\n  };\n  const [value, setValue] = useState({\n    title: '',\n    description: '',\n  });\n\n  const inputDescription = (e: React.ChangeEvent<HTMLTextAreaElement>) => {\n    const inputValue = e.currentTarget.value;\n    setValue({\n      ...value,\n      description: inputValue,\n    });\n  };\n\n  const inputTitle = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const inputValue = e.currentTarget.value;\n    setValue({\n      ...value,\n      title: inputValue,\n    });\n  };\n  const addImages = useSelector((state: RootState) => state.spec.addImages);\n\n  const createRequest = (e: React.MouseEvent<HTMLDivElement>) => {\n    if (!value.title || !value.description) {\n      alert('제목과 내용을 입력해주세요.');\n      return;\n    }\n    e.preventDefault();\n    e.stopPropagation();\n\n    if (addImages.getAll('image').length === 0) {\n      const file = new File(['logo.png'], 'logo.png', {\n        type: 'image/jpg',\n      });\n      addImages.append('image', file);\n    }\n\n    addImages.append('title', value.title);\n    addImages.append('description', value.description);\n\n    setInterceptors(customAxios)\n      .post(`${ENDPOINT}specs/regist`, addImages, {\n        headers: {\n          accept: 'application/json',\n          'Content-Type': 'multipart/form-data',\n        },\n      })\n      .then(res => {\n        if (res.data.statusCode >= 200 && res.data.statusCode <= 204) {\n          alert('스펙이 등록되었습니다.');\n          setTimeout(() => {\n            dispatch(spec_create(!isOpen));\n          }, 100);\n        }\n        console.log(`res`, res.data);\n      })\n      .catch(err => {\n        console.log(`err`, err);\n      });\n  };\n  const reset = (e: React.MouseEvent) => {\n    dispatch(spec_create(false));\n  };\n  useEffect(() => {\n    if (!isOpen) {\n      setValue({\n        title: '',\n        description: '',\n      });\n      dispatch(Init_Form());\n    }\n  }, [dispatch, isOpen]);\n\n  return (\n    <BasicModal big visible={isOpen} reset={reset}>\n      <div className={cx(style)}>\n        <div className={'title'}>{text.register}</div>\n        <div className={'wrapper'}>\n          <Box size={[600, 470]}>\n            <div className={'box'}>\n              <InputImg edit />\n            </div>\n          </Box>\n          <Box size={[336, 470]}>\n            <div className={'box texts'}>\n              <input\n                placeholder={'제목을 입력해주세요.'}\n                maxLength={15}\n                className={'title'}\n                value={value.title}\n                onChange={inputTitle}\n                spellCheck={false}\n              />\n              <div>\n                <FocusBar light thin />\n              </div>\n              <textarea\n                placeholder={'내용을 입력해주세요.'}\n                maxLength={300}\n                className={'description'}\n                value={value.description}\n                onChange={inputDescription}\n                spellCheck={false}\n              ></textarea>\n\n              <div className={'footer'}>\n                <div className={'number'}>\n                  <span>{value.description.length}</span>\n                  <span>{'/'}</span>\n                  <span>{text.maxNum}</span>\n                </div>\n                <div className={'complete'} onClick={createRequest}>\n                  <Btn main>{text.complete}</Btn>\n                </div>\n              </div>\n            </div>\n          </Box>\n        </div>\n      </div>\n    </BasicModal>\n  );\n}\n\nconst style = css`\n  width: 100%;\n  height: 100%;\n  ${radius[24]};\n  padding: 48px 84px 60px;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  > .title {\n    font-size: 28px;\n    height: 36px;\n    ${font.weight[700]};\n    color: ${color.dark1};\n    line-height: 130%;\n  }\n  > .wrapper {\n    display: flex;\n    justify-content: space-between;\n    .box {\n      width: 100%;\n      height: 100%;\n      padding: 8px;\n    }\n    .texts {\n      > * {\n        margin: 8px;\n        color: ${color.dark1};\n      }\n      .title {\n        font-size: 18px;\n        display: flex;\n        align-items: center;\n        height: 23px;\n        margin-bottom: 16px;\n      }\n      .description {\n        width: calc(288px + 8px);\n        height: 316px;\n        overflow: auto;\n        font-size: 14px;\n        box-sizing: content-box;\n        padding-right: calc(8px + 8px);\n      }\n\n      > .footer {\n        .complete {\n          width: 74px;\n          height: 43px;\n        }\n        display: flex;\n        justify-content: space-between;\n        align-items: center;\n      }\n    }\n  }\n`;\n","/** @format */\n\nimport { convertToRaw } from 'draft-js';\nimport { color, shadow, radius, font } from '../../../../styles';\nimport { css } from '@emotion/css';\nimport { keyframes } from '@emotion/react';\n\ninterface Props {\n  [key: string]: any;\n}\n\ninterface Check {\n  [key: string]: any;\n}\n\nexport default function Style({ inline }: Props) {\n  const check: Check = {\n    true: css`\n      .container {\n        height: fit-content;\n        padding: 0 8px;\n        & > * {\n          margin: 0 6px;\n        }\n        & > :first-of-type {\n          margin: 0 6px 0 8px;\n        }\n        & > :nth-of-type(5) {\n          margin: 0 8px 0 6px;\n        }\n        .show {\n        }\n      }\n    `,\n    undefined: css`\n      /* padding: 8px; */\n      .container {\n        flex-wrap: wrap;\n        .item-box {\n          width: 130px;\n          height: 130px;\n          margin: 8px;\n        }\n      }\n      .add {\n        ${shadow.normal}\n        background-color: white;\n      }\n      .icon {\n        width: 24px;\n        height: 24px;\n        background: url('img/add-dark3.png') no-repeat center/contain;\n      }\n\n      .delete {\n        top: 8px;\n        right: 8px;\n      }\n    `,\n  };\n\n  const style = () => {\n    const diffStyle = check[inline];\n    return css`\n      width: 100%;\n      height: 100%;\n      position: relative;\n\n      .alarm {\n        @keyframes fadeout {\n          0% {\n            opacity: 1;\n          }\n          80% {\n            opacity: 1;\n          }\n          100% {\n            opacity: 0;\n          }\n        }\n\n        position: absolute;\n        z-index: 20;\n        width: 250px;\n        height: 50px;\n        font-size: 13px;\n        ${font.weight[400]}\n        top: -30px;\n        padding: 4px 16px;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        ${radius[6]}\n        ${shadow.normal}\n        background-color: white;\n        animation: fadeout 5s ease-in-out forwards;\n      }\n\n      .wrapper {\n        width: 100%;\n        height: 100%;\n        display: flex;\n        align-items: center;\n        overflow: auto;\n        &::-webkit-scrollbar {\n          display: none;\n        }\n      }\n      .container {\n        width: 100%;\n        height: 100%;\n        display: flex;\n        align-items: flex-start;\n        align-content: flex-start;\n        .show {\n          cursor: pointer;\n        }\n      }\n      .item-box {\n        width: 56px;\n        height: 56px;\n        position: relative;\n        :hover {\n          & > :nth-of-type(2) {\n            transition: 0.2s;\n            transform: scale(1.2);\n          }\n          & > button {\n            transition: 0.2s;\n            transform: scale(1.2);\n          }\n          /* background-color: #ffa1af11; */\n          box-shadow: 0px 0px 4px 2px rgba(255, 161, 175, 0.3);\n        }\n        background-color: white;\n      }\n\n      .add {\n        width: 56px;\n        height: 56px;\n        background: ${color.light4};\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        cursor: pointer;\n      }\n\n      .delete {\n        width: ${inline ? `15px` : `20px`};\n        height: ${inline ? `15px` : `20px`};\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        background: ${color.dark4} url('/img/delete.png') no-repeat\n          center/contain;\n        color: ${color.main};\n        border-radius: 50%;\n        position: absolute;\n        top: -5px;\n        right: -8px;\n      }\n\n      .icon {\n        width: 30px;\n        height: 30px;\n        background: url('/img/add-white.png') no-repeat center/contain;\n      }\n\n      #input-file {\n        display: none;\n      }\n\n      ${diffStyle};\n    `;\n  };\n  return style();\n}\n"],"names":["InputImg","_ref","imgs","inline","clone","map","img","checked","_useState","useState","_useState2","_slicedToArray","alarm","setAlarm","_useState3","_useState4","myImage","setMyImage","addedImages","useSelector","state","spec","addImages","useEffect","setTimeout","style","Style","sequence","css","_templateObject","_taggedTemplateLiteral","color","concat","selected","_templateObject2","dispatch","useDispatch","orderingImg","e","preventDefault","stopPropagation","idx","Number","currentTarget","name","target","newClone","filter","each","index","section","reduce","acc","cur","splice","length","formData","FormData","i","append","File","add_images","deleteImg","id","newImage","_toConsumableArray","targetName","imagesNumber","entries","formDataLenth","Array","from","keys","newFormData","next","value","console","log","images","order","_jsxs","className","onClick","children","_jsx","Img","src","cx","full","countStyle","_templateObject3","maxNumberStyle","_templateObject4","_Fragment","onSubmit","type","onChange","files","alert","urls","count","imageURL","URL","createObjectURL","push","multiple","accept","htmlFor","_templateObject5","Edit","isOpen","specModal","openSpecCreate","text","title","description","setValue","Init_Form","BasicModal","big","visible","reset","spec_create","Box","size","edit","placeholder","maxLength","inputValue","_objectSpread","spellCheck","FocusBar","light","thin","getAll","file","setInterceptors","customAxios","post","ENDPOINT","headers","then","res","data","statusCode","catch","err","Btn","main","radius","font","check","true","undefined","shadow","diffStyle"],"sourceRoot":""}